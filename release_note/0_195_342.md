# v0.195.342 — 空エディタのプレースホルダー表示修正

## 課題

新規Markdownファイルを作成してany-markdownで開いた際、エディタが空であるにもかかわらず「Start typing...」のプレースホルダーテキストが表示されない。カーソルの入力位置が分かりづらい。

## 原因

CSSセレクタ `.editor:empty:before` を使用していたが、`:empty` 擬似クラスはDOM上に子要素が一切ない場合にのみマッチする。any-markdownでは空のMarkdownファイルでも `<p><br></p>` を必ず挿入するため（カーソル配置用）、`:empty` 条件が満たされずプレースホルダーが表示されなかった。

## 対策

### 設計

- CSS `:empty` ではなく、JSで「実質的に空」かどうかを判定し、CSSクラス `is-empty` をトグルする方式に変更
- 判定条件: 子要素なし、または子要素が空の `<p>` 1つのみ
- `::before` 擬似要素に `position: absolute` + `pointer-events: none` を追加し、空の `<p>` と重なっても正しく表示・クリック可能にする

### 実装

1. **editor.js**: `updatePlaceholder()` 関数を追加
   - エディタの子要素を検査し `is-empty` クラスをトグル
   - `init()`, `renderFromMarkdown()`, `updateFromMarkdown()`, `input` イベントハンドラから呼び出し

2. **styles.css**:
   - `.editor:empty:before` → `.editor.is-empty:before` に変更
   - `position: absolute` + `pointer-events: none` 追加
   - `.editor` に `position: relative` 追加（`::before` の基準位置として必要）
